{"ast":null,"code":"import _objectSpread from\"/Users/kamilkusakov/mydoc/PyDocs/PROJECT/social2.0/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{LOGIN_SUCCESS,LOGIN_FAIL,USER_LOADED_SUCCESS,USER_LOADED_FAIL}from\"../actions/types\";var initialState={access:localStorage.getItem(\"access\"),refresh:localStorage.getItem(\"refresh\"),isAuthenticated:null,user:null};export default function(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var type=action.type,payload=action.payload;switch(type){case LOGIN_SUCCESS:localStorage.setItem(\"access\",payload.access);return _objectSpread(_objectSpread({},state),{},{isAuthenticated:true,access:payload.access,refresh:payload.refresh});case USER_LOADED_SUCCESS:return _objectSpread(_objectSpread({},state),{},{user:payload});case USER_LOADED_FAIL:return _objectSpread(_objectSpread({},state),{},{user:null});case LOGIN_FAIL:localStorage.removeItem(\"access\");localStorage.removeItem(\"refresh\");return _objectSpread(_objectSpread({},state),{},{access:null,refresh:null,isAuthenticated:false,user:null});default:return state;}}","map":{"version":3,"names":["LOGIN_SUCCESS","LOGIN_FAIL","USER_LOADED_SUCCESS","USER_LOADED_FAIL","initialState","access","localStorage","getItem","refresh","isAuthenticated","user","state","action","type","payload","setItem","removeItem"],"sources":["/Users/kamilkusakov/mydoc/PyDocs/PROJECT/social2.0/frontend/src/reducers/auth.js"],"sourcesContent":["import {\n  LOGIN_SUCCESS,\n  LOGIN_FAIL,\n  USER_LOADED_SUCCESS,\n  USER_LOADED_FAIL,\n} from \"../actions/types\";\n\nconst initialState = {\n  access: localStorage.getItem(\"access\"),\n  refresh: localStorage.getItem(\"refresh\"),\n  isAuthenticated: null,\n  user: null,\n};\n\nexport default function (state = initialState, action) {\n  const { type, payload } = action;\n\n  switch (type) {\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"access\", payload.access);\n      return {\n        ...state,\n        isAuthenticated: true,\n        access: payload.access,\n        refresh: payload.refresh,\n      };\n    case USER_LOADED_SUCCESS:\n      return {\n        ...state,\n        user: payload,\n      };\n    case USER_LOADED_FAIL:\n      return {\n        ...state,\n        user: null,\n      };\n    case LOGIN_FAIL:\n      localStorage.removeItem(\"access\");\n      localStorage.removeItem(\"refresh\");\n      return {\n        ...state,\n        access: null,\n        refresh: null,\n        isAuthenticated: false,\n        user: null,\n      };\n    default:\n      return state;\n  }\n}\n"],"mappings":"gJAAA,OACEA,aAAa,CACbC,UAAU,CACVC,mBAAmB,CACnBC,gBAAgB,KACX,kBAAkB,CAEzB,GAAMC,aAAY,CAAG,CACnBC,MAAM,CAAEC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CACtCC,OAAO,CAAEF,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CACxCE,eAAe,CAAE,IAAI,CACrBC,IAAI,CAAE,IACR,CAAC,CAED,cAAe,WAAwC,IAA9BC,MAAK,2DAAGP,YAAY,IAAEQ,OAAM,2CACnD,GAAQC,KAAI,CAAcD,MAAM,CAAxBC,IAAI,CAAEC,OAAO,CAAKF,MAAM,CAAlBE,OAAO,CAErB,OAAQD,IAAI,EACV,IAAKb,cAAa,CAChBM,YAAY,CAACS,OAAO,CAAC,QAAQ,CAAED,OAAO,CAACT,MAAM,CAAC,CAC9C,sCACKM,KAAK,MACRF,eAAe,CAAE,IAAI,CACrBJ,MAAM,CAAES,OAAO,CAACT,MAAM,CACtBG,OAAO,CAAEM,OAAO,CAACN,OAAO,GAE5B,IAAKN,oBAAmB,CACtB,sCACKS,KAAK,MACRD,IAAI,CAAEI,OAAO,GAEjB,IAAKX,iBAAgB,CACnB,sCACKQ,KAAK,MACRD,IAAI,CAAE,IAAI,GAEd,IAAKT,WAAU,CACbK,YAAY,CAACU,UAAU,CAAC,QAAQ,CAAC,CACjCV,YAAY,CAACU,UAAU,CAAC,SAAS,CAAC,CAClC,sCACKL,KAAK,MACRN,MAAM,CAAE,IAAI,CACZG,OAAO,CAAE,IAAI,CACbC,eAAe,CAAE,KAAK,CACtBC,IAAI,CAAE,IAAI,GAEd,QACE,MAAOC,MAAK,CAAC,CAEnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}